(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))v(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&v(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function v(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();function y(){return new Promise(o=>{const i=document.querySelector("#loader");i.classList.add("is-active"),document.body.style.overflow="hidden";function a(){setTimeout(()=>{i.classList.remove("is-active"),document.body.style.overflow="",o()},800)}window.addEventListener("load",a)})}function _(){const o=document.querySelector(".burger-button"),i=document.querySelector(".mobile-nav"),a=i.querySelectorAll(".mobile-nav__link"),v=document.querySelectorAll(".header__menu-link"),e=[...a,...v],t=document.querySelectorAll("section[id]");let n=!1;function d(){i.classList.add("is-active"),o.classList.add("is-active"),document.body.classList.add("is-lock"),document.documentElement.classList.add("is-lock"),o.setAttribute("aria-expanded","true")}function u(){i.classList.remove("is-active"),o.classList.remove("is-active"),document.body.classList.remove("is-lock"),document.documentElement.classList.remove("is-lock"),o.setAttribute("aria-expanded","false")}function m(r){const s=document.querySelector(r);if(s){const c=document.querySelector(".header").offsetHeight,l=s.offsetTop-c-20;window.scrollTo({top:l,behavior:"smooth"})}}function b(){if(n)return;const r=window.scrollY+100;let s=!1;t.forEach(c=>{const l=c.offsetTop,g=c.offsetHeight;if(r>=l&&r<l+g){const L=c.getAttribute("id");e.forEach(f=>{const h=f.getAttribute("href")===`#${L}`;f.classList.toggle("is-active",h),h&&(s=!0)})}}),s||e.forEach(c=>c.classList.remove("is-active"))}o.addEventListener("click",()=>{i.classList.contains("is-active")?u():d()}),window.addEventListener("keydown",r=>{r.code==="Escape"&&u()}),e.forEach(r=>{r.addEventListener("click",s=>{s.preventDefault();const c=r.getAttribute("href");e.forEach(l=>l.classList.remove("is-active")),r.classList.add("is-active"),u(),n=!0,m(c),setTimeout(()=>{n=!1},800)})}),window.addEventListener("load",b),window.addEventListener("scroll",b)}function E(){const o=document.querySelector(".scroll-up");window.addEventListener("scroll",i);function i(){window.scrollY>=300?o.classList.add("is-active"):o.classList.remove("is-active")}o.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function w({instant:o=!1}={}){const i=document.querySelectorAll("[data-js-animate]");if(o){i.forEach(t=>{t.classList.add("is-active")});return}const a={root:null,rootMargin:"0px 0px 0px 0px",threshold:.2},v=(t,n)=>{t.forEach(d=>{const u=d.target;d.isIntersecting&&(u.classList.add("is-active"),n.unobserve(u))})},e=new IntersectionObserver(v,a);i.forEach(t=>{e.observe(t)})}function k(){document.querySelectorAll("[data-js-tabs]").forEach(i=>{const a=i.querySelectorAll("[data-js-tabs-button]"),v=i.querySelectorAll("[data-js-tabs-content]");let e=[...a].findIndex(s=>s.classList.contains("is-active"));const t=a.length-1,n=()=>{a.forEach((s,c)=>{const l=c===e;s.classList.toggle("is-active",l),s.setAttribute("aria-selected",l),s.setAttribute("tabindex",l?"0":"-1")}),v.forEach((s,c)=>{s.classList.toggle("is-active",c===e)})},d=s=>{e=s,n(),a[s].focus()},u=()=>d(e===0?t:e-1),m=()=>d(e===t?0:e+1),b=()=>d(0),r=()=>d(t);a.forEach((s,c)=>{s.addEventListener("click",()=>d(c))}),i.addEventListener("keydown",s=>{const{code:c,metaKey:l}=s;if(l&&c==="ArrowLeft")return b();if(l&&c==="ArrowRight")return r();switch(c){case"ArrowLeft":u();break;case"ArrowRight":m();break;case"Home":b();break;case"End":r();break}}),n()})}const I="/basside.v2.2/assets/hero-bg-CsPP1hJl.png",S="/basside.v2.2/assets/01-C6DhFZu3.jpg",A="/basside.v2.2/assets/02-joZaKbVa.jpg",M="/basside.v2.2/assets/03-BnCPNEiP.jpg",q="/basside.v2.2/assets/04-DlVcoDDT.jpg",T="/basside.v2.2/assets/card-bg-Dy9-Ssx0.png",j=[{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],K=[{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],W=[{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],p={"Full Stories":[{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],Highlights:j,Reals:K,Teaser:W,"Love Stories":[{videoId:"LXb3EKWsInQ",src:"hero/hero-bg.png",alt:"Love Story — Анна и Дмитрий"}]};function Q(){const o=document.createElement("div");o.id="videoModal",o.className="video-modal",o.innerHTML=`
    <div class="video-modal__overlay"></div>
		<button class="video-modal__close" aria-label="Close video">&times;</button>
    <div class="video-modal__content">
      <iframe
        id="videoIframe"
        width="800"
        height="450"
        src=""
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"
      ></iframe>
    </div>
  `,document.body.appendChild(o);const i=o.querySelector("#videoIframe"),a=o.querySelector(".video-modal__overlay"),v=o.querySelector(".video-modal__close");function e(n){i.src=`https://www.youtube-nocookie.com/embed/${n}?autoplay=1&rel=0&modestbranding=1&iv_load_policy=3&disablekb=1`,o.classList.add("is-open"),document.body.style.overflow="hidden"}function t(){i.src="",o.classList.remove("is-open"),document.body.style.overflow=""}return v.addEventListener("click",t),a.addEventListener("click",t),e}function X(){const o=Q(),i=document.querySelectorAll("[data-js-tabs-content]"),a=document.querySelectorAll("[data-js-tabs-button]"),v=Object.keys(p),e=Object.assign({"../../assets/images/hero/hero-bg.png":I,"../../assets/images/works/01.jpg":S,"../../assets/images/works/02.jpg":A,"../../assets/images/works/03.jpg":M,"../../assets/images/works/04.jpg":q,"../../assets/images/works/card-bg.png":T});i.forEach((t,n)=>{const d=t.querySelector(".tabs__content-list"),u=p[v[n]]||[],m=u.slice(0,4),b=u.slice(4);if(d.innerHTML="",m.forEach(r=>{const s=document.createElement("li");s.className="tabs__content-item",s.innerHTML=`
        <article class="work-card" data-video-id="${r.videoId}">
          <figure class="work-card__figure">
            <img class="work-card__preview" src="${e[`../../assets/images/${r.src}`]}" alt="${r.alt}" loading="lazy" />
            <button type="button" class="work-card__play" aria-label="Watch video">
              <svg class="work-card__play-icon">
                <use xlink:href="icons/sprites.svg#play"></use>
              </svg>
            </button>
          </figure>
        </article>
      `,d.appendChild(s),s.querySelector(".work-card").addEventListener("click",()=>o(r.videoId))}),b.length){const r=document.createElement("button");r.className="tabs__more-btn btn",r.textContent="More",d.after(r),r.addEventListener("click",()=>{b.forEach((s,c)=>{const l=document.createElement("li");l.className="tabs__content-item",l.innerHTML=`
            <article class="work-card is-hidden" data-video-id="${s.videoId}">
              <figure class="work-card__figure">
                <img class="work-card__preview" src="${e[`../../assets/images/${s.src}`]}" alt="${s.alt}" loading="lazy" />
                <button type="button" class="work-card__play" aria-label="Watch video">
                  <svg class="work-card__play-icon">
                    <use xlink:href="icons/sprites.svg#play"></use>
                  </svg>
                </button>
              </figure>
            </article>
          `,d.appendChild(l);const g=l.querySelector(".work-card");g.addEventListener("click",()=>o(s.videoId)),setTimeout(()=>{g.classList.remove("is-hidden"),g.classList.add("is-visible")},c*100)}),r.remove()})}a[n].classList.contains("is-active")||t.classList.add("is-hidden")}),a.forEach((t,n)=>{t.setAttribute("type","button"),t.addEventListener("click",d=>{d.preventDefault(),a.forEach(u=>u.classList.remove("is-active")),t.classList.add("is-active"),i.forEach(u=>u.classList.add("is-hidden")),i[n].classList.remove("is-hidden")})})}y().then(()=>{_(),E(),w(),k(),X()});
